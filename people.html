<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Civic.json - Census</title>
    <!-- Remixicons CDN -->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css" rel="stylesheet">
    <!-- External CSS -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

    <nav class="sidebar">
        <div class="brand">Purok OS</div>
        <a href="index.html" class="nav-link"><i class="ri-dashboard-line"></i> Dashboard</a>
        <a href="people.html" class="nav-link active"><i class="ri-group-line"></i> Census</a>
    </nav>

    <header id="app-header">
        <div class="header-left">
            <h1><i class="ri-community-line"></i> Civic.json</h1>
        </div>

        <div class="header-center">
            <div id="survival-score"></div>
        </div>

        <div class="system-controls">
            <button id="btn-export" aria-label="Export Data" title="Export Backup">
                <i class="ri-download-cloud-line"></i>
            </button>
            <button id="btn-import-trigger" aria-label="Import Data" title="Import Backup">
                <i class="ri-upload-cloud-line"></i>
            </button>
            <input type="file" id="file-import" accept=".json" style="display: none;">
        </div>
    </header>

    <main id="dashboard-grid">
        <section id="people-feed">
            <div class="section-header">
                <h2><i class="ri-team-line"></i> Residents Directory</h2>
                <button id="add-person-btn" class="icon-btn" aria-label="Add Person">
                    <i class="ri-user-add-line"></i>
                </button>
            </div>
            <div id="census-container">
                <!-- Profile Cards will be injected here -->
            </div>
        </section>
    </main>

    <!-- Add/Edit Person Modal -->
    <dialog id="person-modal">
        <form id="person-form">
            <h2 id="person-modal-title">Add Resident</h2>

            <div class="form-group">
                <label for="person-name">Full Name</label>
                <input type="text" id="person-name" placeholder="e.g. Maria Santos" required>
            </div>

            <div class="form-row" style="display: flex; gap: 1rem;">
                <div class="form-group" style="flex: 1;">
                    <label for="person-age">Age</label>
                    <input type="number" id="person-age" placeholder="30" required>
                </div>
                <div class="form-group" style="flex: 1;">
                    <label for="person-gender">Gender</label>
                    <select id="person-gender" required>
                        <option value="Male">Male</option>
                        <option value="Female">Female</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
            </div>

            <div class="form-group">
                <label for="person-skill">Skill</label>
                <input type="text" id="person-skill" placeholder="e.g. Medic, Carpenter" required>
            </div>

            <div class="form-group">
                <label for="person-health">Health Status</label>
                <select id="person-health" required>
                    <option value="Healthy">Healthy</option>
                    <option value="Injured">Injured</option>
                    <option value="Sick">Sick</option>
                    <option value="Deceased">Deceased</option>
                </select>
            </div>

            <div class="form-group">
                <label for="person-contact">Contact Info</label>
                <input type="text" id="person-contact" placeholder="e.g. House 12, Radio Ch 5" required>
            </div>

            <div class="form-actions">
                <button type="button" id="btn-cancel-person" class="btn-secondary">Cancel</button>
                <button type="submit" id="btn-save-person" class="btn-primary">Save Resident</button>
            </div>
        </form>
    </dialog>

    <!-- External JS -->
    <script src="js/app.js"></script>
</body>
</html>
